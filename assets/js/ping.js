var rod1=document.getElementById("rod1"),rod2=document.getElementById("rod2"),ball=document.getElementById("ball"),player=document.getElementById("player"),scoreBoard=document.getElementById("scoreBoard"),maxScoreBoard=document.getElementById("maxScoreBoard");const storeName="PPlayer",storeScore="SScore",rod1Name="Player 1",rod2Name="Player 2";let score,maxScore,rod,movement,ballSpeedX=2,ballSpeedY=2,gameOn=!1,viewHeight=window.innerHeight,viewWidth=window.innerWidth;function resetBoard(e){rod1.style.left=(viewWidth-rod1.offsetWidth)/2+"px",rod2.style.left=(viewWidth-rod2.offsetWidth)/2+"px",ball.style.left=(viewWidth-ball.offsetWidth)/2+"px",e==rod1Name?(ball.style.top=rod2.offsetTop-rod2.offsetHeight+"px",ballSpeedY=-2):e==rod2Name&&(ball.style.top=rod1.offsetTop+rod1.offsetHeight+"px",ballSpeedY=2),score=0,gameOn=!1}function storeWin(e,t){t>maxScore&&(maxScore=t,localStorage.setItem("PPlayer",e),localStorage.setItem("SScore",maxScore)),player.innerText=e,scoreBoard.innerText=t,maxScoreBoard.innerText=maxScore,clearInterval(movement),resetBoard(e)}function setValue(e){return e+"px"}rod1.style.left=rod1.offsetLeft+"px",rod2.style.left=rod2.offsetLeft+"px",rod=localStorage.getItem("PPlayer"),maxScore=localStorage.getItem("SScore"),alert("Press A: to go left. Press D: to right. Press Enter to start the game. Have fun!!"),null!=rod&&null!=maxScore||(rod="Player 2",maxScore=0),resetBoard(rod),window.addEventListener("keydown",(function(e){var t=e.keyCode,o=parseInt(rod1.style.left);if(65==t?o>0&&(rod1.style.left=setValue(o-20),rod2.style.left=rod1.style.left):68==t&&o<viewWidth-rod1.offsetWidth&&(rod1.style.left=setValue(o+20),rod2.style.left=rod1.style.left),13==t&&!gameOn){gameOn=!0;var r=ball.getBoundingClientRect(),l=r.x,d=r.y,a=r.width,n=rod1.offsetHeight,s=rod1.offsetWidth,i=rod2.offsetHeight,f=rod2.offsetWidth;movement=this.setInterval((function(){l+=ballSpeedX,d+=ballSpeedY,ball.style.top=d+"px",ball.style.left=l+"px";var e=rod1.getBoundingClientRect().x,t=rod2.getBoundingClientRect().x;(l<0||l>viewWidth-a)&&(ballSpeedX=-ballSpeedX);let o=l+a;d<=n?(score++,ballSpeedY=-ballSpeedY,(o<e||o>e+s)&&storeWin(rod2Name,score)):d+a>=viewHeight-i&&(ballSpeedY=-ballSpeedY,score++,(o<t||o>t+f)&&storeWin(rod1Name,score))}),10)}}));